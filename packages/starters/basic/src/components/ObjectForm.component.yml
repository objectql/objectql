# Override Built-in ObjectForm Component
# This example shows how to replace the built-in ObjectForm with your custom implementation

# IMPORTANT: Use the same name as the built-in component to override it
name: ObjectForm
label: Custom Object Form
description: Custom implementation of the built-in ObjectForm with enhanced UX
category: data_entry
version: 2.0.0
author: Your Company

# Your custom implementation file
implementation: ./MyCustomForm.tsx
framework: react

# Indicate this extends/overrides the built-in ObjectForm
extends: ObjectForm

# Must support all the same props as the original ObjectForm
props:
  - name: object
    type: string
    description: Object name to create/edit records for
    required: true
  
  - name: recordId
    type: string
    description: ID of record to edit (omit for create mode)
    required: false
  
  - name: layout
    type: object
    description: Form layout configuration
    required: false
  
  - name: mode
    type: string
    description: Form mode
    default: edit
    validation:
      enum: [create, edit, view]
  
  # Add your custom props
  - name: autosave
    type: boolean
    description: Enable auto-save every 30 seconds
    default: false
  
  - name: theme
    type: string
    description: Form theme variant
    default: default
    validation:
      enum: [default, compact, comfortable]

# Events (must support all built-in events)
events:
  - name: onSubmit
    description: Fired when form is submitted
    payload: "{ values: Record, mode: 'create' | 'edit' }"
  
  - name: onChange
    description: Fired when any field value changes
    payload: "{ field: string, value: any, values: Record }"
  
  - name: onValidation
    description: Fired when validation runs
    payload: "{ valid: boolean, errors: ValidationError[] }"
  
  # Your custom event
  - name: onAutosave
    description: Fired when autosave completes
    payload: "{ timestamp: Date, success: boolean }"

# Methods (must support all built-in methods)
methods:
  - name: submit
    description: Programmatically submit the form
    returns: Promise<Record>
  
  - name: reset
    description: Reset form to initial values
    returns: void
  
  - name: validate
    description: Trigger validation
    returns: Promise<boolean>
  
  # Your custom method
  - name: triggerAutosave
    description: Manually trigger autosave
    returns: Promise<void>

# Features
features:
  realtime: true
  offline: true
  i18n: true
  themeable: true
  responsive: true

# AI Context
ai_context:
  purpose: "Enhanced form component with autosave and improved UX"
  use_cases:
    - "Long forms where users might lose data"
    - "Mobile-first applications"
    - "Real-time collaborative editing"
  best_practices:
    - "Clearly indicate when autosave occurs"
    - "Provide offline support for unstable connections"
    - "Show validation errors inline as user types"

# Example usage
examples:
  - title: Basic Usage
    description: Form with autosave enabled
    code: |
      <ObjectForm
        object="projects"
        recordId={projectId}
        autosave={true}
        onAutosave={({ success }) => {
          if (success) toast.success('Saved!');
        }}
      />
  
  - title: Create Mode
    description: Creating a new record
    code: |
      <ObjectForm
        object="tasks"
        mode="create"
        onSubmit={(values) => {
          console.log('New task:', values);
          navigate('/tasks');
        }}
      />

repository: https://github.com/yourcompany/custom-objectql-components
license: MIT
